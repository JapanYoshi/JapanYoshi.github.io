<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Name Color List</title>
    <meta property="og:url" value="http://2gd4.me/h/colors.html">
    <meta property="og:title" value="Name Color List">
    <meta name="twitter:title" value="Username Color Demo">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="Clockheart">
    <meta name="twitter:site" content="@LivingSubDoll">
    <meta property="og:description" content="Browse and sort username colors.">
    <meta name="twitter:description" content="Browse and sort username colors.">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:image" content="http://japanyoshi.github.io/h/colors.png">
    <meta name="twitter:image" content="http://japanyoshi.github.io/h/colors.png">
    <style>
@import url('https://fonts.googleapis.com/css?family=Nunito:600&display=swap');
body {
    font-family: "Nunito", sans-serif;
    font-size: 18px;
    line-height: 18px;
    margin: 0;
    background-color: #36393f;
    display: flex;
    flex-direction: column;
    height: 100vh;
}
#bar {
    flex: 0 0 auto;
    text-align: center;
    top: 0;
    background: rgba(255,255,255,0.5);
    width: 100vw;
}
button {
    display: inline-block;
    font-size: inherit;
    font-family: inherit;
    padding-inline-end: 0;
    padding-inline-start: 0;
    padding: 0 8px;
    border: none;
    line-height: 20px;
}
#names {
    width: 100%;
    margin-bottom: 8px;
}
#container {
    overflow: auto;
    flex: 1 1 auto;
    max-width: 720px;
    background-color: #36393f;
    margin: 0 auto;
}

#container::-webkit-scrollbar {
  display: none;
}

#container {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
} 

.index {
    width: 48px;
    height: 48px;
    line-height: 48px;
    text-align: center;
}
.hideColors .index {
    display: none;
}
.color {
    width: 192px;
    height: 48px;
    margin: 2px;
    padding: 4px;
    display: inline-block;
    background-color: #36393f;
    border-radius: 4px;
    position: relative;
    border-width: 4px;
    border-style: solid;
    overflow: hidden;
}
.color.unnamed {
    font-weight: bold;
}
.hideColors .color {
    padding: 0;
    border-width: 8px;
}
.name {
    width: calc(100% - 60px);
    position: absolute;
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
}
.hideColors .color .name {
    display: none;
}
.color .clear {
    clear: both;
    border: none;
    height: 0;
}
.hideColors .color .clear {
    height: 72px;
}
.hex {
    display: none;
}
.hideColors .hex {
    display: inline;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}
#template{
    display: none;
}
@media screen and (max-width: 319px) {
    /* narrow mobile layout */
    .color {
        width: calc(100% - 20px);
    }
}

@media screen and (min-width: 320px) and (max-width: 480px) {
    /* mobile layout */
    .color {
        width: calc(50% - 20px);
    }
}

@media screen and (min-width: 481px) and (max-width: 719px) {
    /* narrow browser */
    .color {
        width: 220px;
    }
    #container {
        width: 480px;
    }
}

@media screen and (min-width: 720px) {
    .color {
        width: 220px;
    }
    #container {
        width: 720px;
    }
}
html {
    scrollbar-width: none; /* Firefox */
}
html::-webkit-scrollbar {
    width: 0px;  /* Safari/Chrome: Remove scrollbar space */
    background: transparent;  /* Safari/Chrome: just make scrollbar invisible */
}
    </style>
</head>

<body>
    <div id="bar">
        <button id="names">show names and emotes</button><br>
        sort by <button id="name">name</button> • <button id="hue">hue</button> • <button id="sat">vividness</button> • <button id="luma">brightness</button><br><span class="new">NEW!</span> <label for="picker">similarity to</label> <input type="color" id="picker" name="picker" value="#ffffff"></input> <button id="similarity">search!</button>
    </div>
    <div id="container" class="">
        <hr>
    </div>

    <div id="template">
    <div class="color">
        <div class="index"><span class="post"></span>:<span class="number"></span></div>
        <div class="name">Sample Color Name</div>
        <div class="clear"></div>
        <span class="hex">0</span>
    </div>
</div>
    <script>
var colors = [
  {
    "name": "Why My Shader Magenta",
    "color": "#ff46dc",
    "post": 1,
    "number": "0"
  },
  {
    "name": "Succubus Lips",
    "color": "#bb032f",
    "post": 1,
    "number": "1"
  },
  {
    "name": "Hot & Bothered Pink",
    "color": "#ff2f83",
    "post": 1,
    "number": "2"
  },
  {
    "name": "Lustful Red",
    "color": "#f44248",
    "post": 1,
    "number": "3"
  },
  {
    "name": "99.6% Pure Black",
    "color": "#010101",
    "post": 1,
    "number": "4"
  },
  {
    "name": "Femmy Pink",
    "color": "#f4abba",
    "post": 1,
    "number": "5"
  },
  {
    "name": "Bunny Pink",
    "color": "#ffdbf9",
    "post": 1,
    "number": "6"
  },
  {
    "name": "Deep Like a Brick",
    "color": "#8e2a09",
    "post": 1,
    "number": "7"
  },
  {
    "name": "Techno­drone Orange",
    "color": "#ffa000",
    "post": 1,
    "number": "8"
  },
  {
    "name": "Porcelain Doll",
    "color": "#ffe6db",
    "post": 2,
    "number": "1"
  },
  {
    "name": "Mushmind Brown",
    "color": "#70461a",
    "post": 2,
    "number": "2"
  },
  {
    "name": "Electric Yellow",
    "color": "#f8f068",
    "post": 2,
    "number": "5"
  },
  {
    "name": "Queenly Violet",
    "color": "#cb45ed",
    "post": 2,
    "number": "6"
  },
  {
    "name": "Amnesia Coral",
    "color": "#ff7f50",
    "post": 2,
    "number": "7"
  },
  {
    "name": "Scrambled Salmon",
    "color": "#fa8072",
    "post": 2,
    "number": "#"
  },
  {
    "name": "Malleable Clay",
    "color": "#946655",
    "post": 3,
    "number": "0"
  },
  {
    "name": "Robo­tized Gray",
    "color": "#6b7b8f",
    "post": 3,
    "number": "1"
  },
  {
    "name": "Obedient Ochre",
    "color": "#d6a26a",
    "post": 3,
    "number": "2"
  },
  {
    "name": "Lightning Gold",
    "color": "#f7c815",
    "post": 3,
    "number": "7"
  },
  {
    "name": "Blank White",
    "color": "#e4e4e0",
    "post": 3,
    "number": "9"
  },
  {
    "name": "Drifty Sea Green",
    "color": "#3db872",
    "post": 4,
    "number": "1"
  },
  {
    "name": "Tentacle Biscay Green",
    "color": "#4ec5a5",
    "post": 4,
    "number": "2"
  },
  {
    "name": "Alice Blue",
    "color": "#f0f8ff",
    "post": 4,
    "number": "3"
  },
  {
    "name": "Floaty Sky Blue",
    "color": "#87ceeb",
    "post": 4,
    "number": "4"
  },
  {
    "name": "Programmed Cadet Blue",
    "color": "#5f9ea0",
    "post": 4,
    "number": "6"
  },
  {
    "name": "Puppet Mosaic Blue",
    "color": "#476387",
    "post": 4,
    "number": "8"
  },
  {
    "name": "Emotion­less Silver",
    "color": "#a9a79d",
    "post": 4,
    "number": 9
  },
  {
    "name": "BSOD Blue",
    "color": "#335ee9",
    "post": 4,
    "number": "#"
  },
  {
    "name": "Controlled Violet Blue",
    "color": "#8a2be2",
    "post": 5,
    "number": "0"
  },
  {
    "name": "Bliss Honeysuckle",
    "color": "#b55470",
    "post": 5,
    "number": "2"
  },
  {
    "name": "Corrupted Purple",
    "color": "#7658bd",
    "post": 5,
    "number": "3"
  },
  {
    "name": "Overloaded Green",
    "color": "#21e679",
    "post": 5,
    "number": "4"
  },
  {
    "name": "Nameless Navy",
    "color": "#120039",
    "post": 5,
    "number": "5"
  },
  {
    "name": "Squishy Green",
    "color": "#d8ffc3",
    "post": 5,
    "number": "6"
  },
  {
    "name": "Brain Drain Blue",
    "color": "#5dadec",
    "post": 5,
    "number": "7"
  },
  {
    "name": "Relaxing Fields",
    "color": "#38854c",
    "post": 5,
    "number": "8"
  },
  {
    "name": "Listless Lime",
    "color": "#b6f74a",
    "post": 5,
    "number": "#"
  },
  {
    "name": "Propaganda Denim",
    "color": "#3c5f9e",
    "post": 6,
    "number": 0
  },
  {
    "name": "Possession Purple",
    "color": "#aa85d6",
    "post": 6,
    "number": "1"
  },
  {
    "name": "Hypno­gas Green",
    "color": "#24dbc5",
    "post": 6,
    "number": 2
  },
  {
    "name": "Foggy Blue",
    "color": "#d3ebff",
    "post": 6,
    "number": 3
  },
  {
    "name": "Invisible Name",
    "color": "#36393f",
    "post": 6,
    "number": "4"
  },
  {
    "name": "Pheromone Violet",
    "color": "#eedbff",
    "post": 6,
    "number": 6
  },
  {
    "name": "Giggly Yellow",
    "color": "#ffffe2",
    "post": 6,
    "number": 7
  },
  {
    "name": "Anna Pink",
    "color": "#ff69b4",
    "post": 6,
    "number": "8"
  },
  {
    "name": "Cuddle Plum",
    "color": "#dda0dd",
    "post": 6,
    "number": "9"
  },
  {
    "name": "Witch Lavender",
    "color": "#aaaae5",
    "post": 6,
    "number": "#"
  },
  {
    "name": "Trigger Play Teal",
    "color": "#5afaff",
    "post": 6,
    "number": "↑"
  }
];

var sort = ["none", false];

const box = document.getElementById("container");
const template = document.getElementById("template").firstElementChild;

const luma = (r, g, b) => Math.sqrt((0.299 * r * r) + (0.587 * g * g) + (0.114 * b * b));
const lumaHex = (hex) => {
    if (hex[0] === "#") {
        hex = hex.substr(1, 6);
    }
    return luma(parseInt(hex.substr(0, 2), 16), parseInt(hex.substr(2, 2), 16), parseInt(hex.substr(4, 2), 16))
};

const hue = (r, g, b) => {
    var max, minV;
    if (r > g) {
        if (r > b) {
            if (g > b) {
                // r > g > b
                max = 0;
                minV = b;
            } else {
                // r > b > g
                max = 0;
                minV = g;
            }
        } else {
            // b > r > g
            max = 2;
            minV = g;
        }
    } else {
        if (r > b) {
            // g > r > b
            max = 1;
            minV = b;
        } else {
            if (g > b) {
                // g > b > r
                max = 1;
                minV = r;
            } else {
                // b > g > r
                max = 2;
                minV = r;
            }
        }
    }
    const offset = 5;
    switch (max) {
        case 0:
            return (offset + 6 + (g - b) / (r - minV)) % 6;
        case 1:
            return (offset + 2 + (b - r) / (g - minV)) % 6;
        case 2:
            return (offset + 4 + (r - g) / (b - minV)) % 6;
    }
};
const hueHex = (hex) => {
    if (hex[0] === "#") {
        hex = hex.substr(1, 6);
    }
    return hue(parseInt(hex.substr(0, 2), 16), parseInt(hex.substr(2, 2), 16), parseInt(hex.substr(4, 2), 16))
};

const saturation = (r, g, b) => {
    var min = Math.min(r, g, b);
    var max = Math.max(r, g, b);
    return (max - min) / (max + min) * luma(r,g,b);
};
const satHex = (hex) => {
    if (hex[0] === "#") {
        hex = hex.substr(1, 6);
    }
    return saturation(parseInt(hex.substr(0, 2), 16), parseInt(hex.substr(2, 2), 16), parseInt(hex.substr(4, 2), 16))
};

const similarity = (col1, col2) => {
    // hue out of 3 (6 = 360deg)
    var hue1 = hueHex(col1);
    var hue2 = hueHex(col2);
    var hueDiff = Math.abs(hue2 - hue1);
    if (isNaN(hueDiff)) {
       hueDiff = 0;
    } else if (hueDiff > 3) {
        hueDiff = 6 - hueDiff;
    }
    hueDiff = 1 - (hueDiff / 3);
    hueDiff *= hueDiff;
    // sat out of 255
    var sat1 = satHex(col1);
    var sat2 = satHex(col2);
    var satDiff = Math.abs(sat2 - sat1);
    satDiff = 1 - (satDiff / 255);
    // luma out of 255
    var luma1 = lumaHex(col1);
    var luma2 = lumaHex(col2);
    var lumaDiff = Math.abs(luma2 - luma1);
    lumaDiff = 1 - (lumaDiff / 255);
    
    return hueDiff * satDiff * lumaDiff;
};

const populate = () => {
    //while (box.lastChild) {
    //    box.removeChild(box.lastChild);
    //}
    for (var i = 0; i < colors.length; i++) {
        var node = template.cloneNode(true);
        const existing = document.getElementById("color_" + (colors[i].color).substr(1,6));
        if (existing) {
            // exists
            node = existing;
        } else {
            // make new
            const name = colors[i].name !== null ? colors[i].name : "unnamed";
            const dark =  lumaHex(colors[i].color) < 144;
            const post = colors[i].post !== null ? colors[i].post : -1;
            const number = colors[i].number !== null ? colors[i].number : -1;
            node.id = "color_" + (colors[i].color).substr(1,6);
            node.style = "border-color: " + colors[i].color + "; color: " + colors[i].color;
            if (colors[i].name === null) {
                node.classList.add("unnamed");
            }
            node.getElementsByClassName("name")[0].innerText = name;
            node.getElementsByClassName("name")[0].style = "color: " + (dark ? "white" : colors[i].color);
            node.getElementsByClassName("index")[0].style = "color: " + (dark ? "white" : colors[i].color);
            node.getElementsByClassName("post")[0].innerText = post;
            node.getElementsByClassName("number")[0].innerText = number;
            node.getElementsByClassName("clear")[0].style = "background: " + colors[i].color + ";";
            node.getElementsByClassName("hex")[0].innerText = colors[i].color;
            node.getElementsByClassName("hex")[0].style = "color:" + (dark ? "white" : "black");   
        }
        box.appendChild(node);
    }
}
document.getElementById("names").addEventListener("click", function(){
    box.classList.toggle("hideColors");
    if (box.classList.contains("hideColors")){
        document.getElementById("names").innerText="show names and indices";
    } else {
        document.getElementById("names").innerText="show color codes";
    }
});
document.getElementById("name").addEventListener("click", function(){
    var mult;
    if (sort[0] === "name" && !sort[1]) {
        mult = 1;
        sort = ["name", true];
    } else {
        mult = -1;
        sort = ["name", false];
    }
    colors.sort((a, b) => (a.name.toLowerCase() > b.name.toLowerCase() ? -mult : (a.name.toLowerCase() === b.name.toLowerCase() ? 0 : mult)));
    populate();
});
document.getElementById("luma").addEventListener("click", function(){
    var mult;
    if (sort[0] === "luma" && !sort[1]) {
        mult = -1;
        sort = ["luma", true];
    } else {
        mult = 1;
        sort = ["luma", false];
    }
    colors.forEach(a => a.index = lumaHex(a.color));
    colors.sort((a, b) => (a.index - b.index) * -mult);
    populate();
});
document.getElementById("hue").addEventListener("click", function(){
    var mult;
    if (sort[0] === "hue" && !sort[1]) {
        mult = 1;
        sort = ["hue", true];
    } else {
        mult = -1;
        sort = ["hue", false];
    }
    colors.forEach(a => a.index = hueHex(a.color));
    colors.sort((a, b) => (a.index - b.index) * -mult);
    populate();
});
document.getElementById("sat").addEventListener("click", function(){
    var mult;
    if (sort[0] === "sat" && !sort[1]) {
        mult = -1;
        sort = ["sat", true];
    } else {
        mult = 1;
        sort = ["sat", false];
    }
    colors.forEach(a => a.index = satHex(a.color));
    colors.sort((a, b) => (a.index - b.index) * -mult);
    populate();
});
document.getElementById("similarity").addEventListener("click", function(){
    var reference = document.getElementById("picker").value;
    console.log(reference);
    if (!(sort[0] === "search" && sort[1] === reference)) {
        sort = ["sat", reference];
        colors.forEach(a => a.index = similarity(a.color, reference));
        colors.sort((a, b) => (b.index - a.index));
        populate();
    }
});

populate();
// make the emotes load
setTimeout(function(){box.classList.add("hideColors")}, 100);
    </script>
</body>