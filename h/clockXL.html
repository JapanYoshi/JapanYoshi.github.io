<head>
    <style>
        body {
            background: black;
            overflow: hidden;
        }

        #clock {
            font-size: 0;
            margin-top: -2vw;
            display: block;
            font-family: "Sniglet", sans-serif;
            font-weight: 400;
            text-align: center;
            color: #fff;
            text-shadow: 0vw 0vw 0vw white;
        }

        .digit,
        .divider,
        .am {
            display: inline-block;
            text-align: center;
            font-size: 18vw;
            line-height: 18vw;
            width: 10.5vw;
        }

        .divider {
            width: 2vw;
            transform: translateY(-10%);
        }
        
        #t_s0, #t_s1 {
          font-size: 12vw;
          width: 7vw;
        }
        
        #colon0 {
          width: 5vw;
        }

        .inactive {
            color: #666;
        }

        .am {
            width: 20vw;
        }

        .anim {
            animation-name: changed;
            animation-duration: 200ms;
            animation-timing-function: ease-out;
            animation-iteration-count: 1;
        }

        .inactive.anim {
            animation-name: changed-inactive;
            animation-duration: 200ms;
            animation-timing-function: ease-out;
            animation-iteration-count: 1;
        }

        @keyframes changed {
            from {
                color: #f2d0e9;
                text-shadow: 0 0 2vw #f2d0e9,
                    0.2vw 0 2vw #f2d0e9,
                    0 0.2vw 2vw #f2d0e9,
                    -0.2vw 0 2vw #f2d0e9,
                    0 -0.2vw 2vw #f2d0e9;
            }

            to {
                color: #fff;
                text-shadow: 0 0 0 transparent,
                    0 0 0 transparent,
                    0 0 0 transparent,
                    0 0 0 transparent,
                    0 0 0 transparent;
            }
        }

        

        @keyframes changed-inactive {
            from {
                color: #fff;
                text-shadow: 0 0 2vw white,
                    0.2vw 0 2vw white,
                    0 0.2vw 2vw white,
                    -0.2vw 0 2vw white,
                    0 -0.2vw 2vw white;
            }

            to {
                color: #666;
                text-shadow: 0 0 0 white,
                    0 0 0 white,
                    0 0 0 white,
                    0 0 0 white,
                    0 0 0 white;
            }
        }
    </style>
</head>

<body>
    <div id="clock">
        <div id="t_h1" class="digit">?</div>
        <div id="t_h0" class="digit">?</div>
        <div id="colon0" class="divider">:</div>
        <div id="t_m1" class="digit">?</div>
        <div id="t_m0" class="digit">?</div>
        <div id="colon1" class="divider"> </div>
        <div id="t_s1" class="digit">?</div>
        <div id="t_s0" class="digit">?</div>
        <div id="colon2" class="divider"> </div>
        <div id="t_am" class="am">?M</div>
    </div>

    <script>
        const mode24h = false;
        const h1 = document.getElementById("t_h1");
        const h0 = document.getElementById("t_h0");
        const m1 = document.getElementById("t_m1");
        const m0 = document.getElementById("t_m0");
        const s1 = document.getElementById("t_s1");
        const s0 = document.getElementById("t_s0");
        const am = document.getElementById("t_am");
        const elems = [h1, h0, m1, m0, s1, s0, am];

        function updateTime() {
            var now = new Date();
            vals = [now.getHours(), now.getMinutes(), now.getSeconds()];
            digits = [
                mode24h ? String(vals[0] / 10)[0]:String((vals[0]%12)/10)[0],
                mode24h ? vals[0] % 10:(vals[0] % 12) % 10,
                String(vals[1] / 10)[0], vals[1] % 10,
                String(vals[2] / 10)[0], vals[2] % 10,
                mode24h ? "" : vals[0] < 12 ? "AM" : "PM"];
            for (i = 0; i < 7; i++) {
                if (elems[i].innerText != digits[i]) {
                    elems[i].innerText = digits[i];
                    elems[i].classList.remove("anim");
                    void elems[i].offsetWidth; // reflow to retrigger animation
                    elems[i].classList.add("anim");
                    if (i === 0) {
                        if (digits[0] === "0") {
                            elems[i].classList.add("inactive");
                        } else {
                            elems[i].classList.remove("inactive");
                        }
                    }
                }
            }
            setTimeout(updateTime, (1000 - now.getMilliseconds()));
        }

        updateTime();
    </script>
</body>