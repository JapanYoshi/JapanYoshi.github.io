<head>
<script>
document.addEventListener("DOMContentLoaded", () => {
  try {
    // im lazy about exception handling
    // get query strings
    const q = (new URLSearchParams()).get("a");
    if (!q) {
      var a = document.createElement("h3");
      a.innerText = "Usage:";
      document.body.appendChild(a);
      var b = document.createElement("p");
      b.innerHTML =
        "<code>" +
        window.location.href +
        "?a=example.com%2Fpage%3Fx%3D123%26y%3D456</code><br>You can generate a URL-encoded version of your link below.";
      document.body.appendChild(b);
      var box = document.createElement("textarea");
      box.id = "box";
      document.body.appendChild(box);
      var btn = document.createElement("button");
      btn.innerText = "Convert";
      btn.addEventListener("click", () => {
        document.getElementById("box").value = encodeURIComponent(
          document.getElementById("box").value
        );
      });
      document.body.appendChild(btn);
    } else {
      // go
      const u = decodeURIComponent(q[0]);
      if (u.startsWith("http://") || u.startsWith("https://")) {
        window.location.href = u;
      } else {
        window.location.href = "https://" + u;
      }
    }
  } catch (e) {
    alert(e.name);
    var a = document.createElement("h3");
    a.innerText = e.name;
    document.body.appendChild(a);
    var b = document.createElement("p");
    b.innerHtml = e.message;
    document.body.appendChild(b);
    throw(e);
  }
});
</script>
</head>
<body>
<noscript>This is supposed to be a redirect link, but Javascript is disabled. Instead, please plug in the contents of this pageâ€™s URL past the equals sign into a URL decoder.</noscript>
</body>
