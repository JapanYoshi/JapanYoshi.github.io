<head>
<script>
// get query strings
const q = [...new URLSearchParams(queryString).entries()].reduce((obj, e) => (obj + [e[1]]), []);
if (!q) {
  document.body.innerHtml = "<h3>Usage:</h3><p><code>" + window.location.href + "?a=example.com%2Fpage%3Fx%3D123%26y%3D456</code><p>You can generate a URL-encoded version of your link below.</p>";
  var box = document.createElement("textarea");
  box.id = "box";
  document.body.appendChild(box);
  var btn = document.createElement("button");
  btn.addEventListener("click", ()=>{
    document.getElementById("box").value = encodeURI(document.getElementById("box").value);
  });
  document.body.appendChild(btn);
}
// go
try {
  const u = decodeURI(q[0]);
} catch (e) { // catches a malformed URI
  document.body.innerHtml = "<h3>" + e.name + "</h3><p>" + e.message;
}
if (u.startsWith("http://") || u.startsWith("https://")) {
  window.location.href = u;
} else {
  window.location.href = "https://" + u;
}
</script>
</head>
<body>
</body>
